"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};(function(a){if("object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module)module.exports=a();else if("function"==typeof define&&define.amd)define([],a);else{var b;b="undefined"==typeof window?"undefined"==typeof global?"undefined"==typeof self?this:self:global:window,b.hexagonal=a()}})(function(){var a=Math.PI,b=Math.sin,c=Math.cos;return function b(c,d,e){function a(h,i){if(!d[h]){if(!c[h]){var j="function"==typeof require&&require;if(!i&&j)return j(h,!0);if(g)return g(h,!0);var k=new Error("Cannot find module '"+h+"'");throw k.code="MODULE_NOT_FOUND",k}var f=d[h]={exports:{}};c[h][0].call(f.exports,function(b){var d=c[h][1][b];return a(d?d:b)},f,f.exports,b,c,d,e)}return d[h].exports}for(var g="function"==typeof require&&require,f=0;f<e.length;f++)a(e[f]);return a}({1:[function(a,b){"use strict";function c(a){return Array(a).fill(0).map(function(a,b){return b})}var d=Date.now;b.exports={debounce:function(a,b,c){var e,f,g,h,i,j=function(){var k=d()-h;k<b&&0<=k?e=setTimeout(j,b-k):(e=null,!c&&(i=a.apply(g,f),!e&&(g=f=null)))};return function(){g=this,f=arguments,h=d();var k=c&&!e;return e||(e=setTimeout(j,b)),k&&(i=a.apply(g,f),g=f=null),i}},isTouch:function(){return!!("ontouchstart"in window)||0<window.navigator.msMaxTouchPoints},range:c,zip:function(d,a){return c(d.length).map(function(b,c){return[d[c],a[c]]})}}},{}],2:[function(d,e){"use strict";var f=d("./common"),g=f.zip;e.exports=function(d,e,f){e=e||0,f=f||0;var h=a/6,i=d*b(h),j=d*c(h),k=[0,j,2*j,2*j,j,0].map(function(a){return a+e}),l=[i,0,i,i+d,2*i+d,i+d].map(function(a){return a+f}),m=g(k,l);return this.addClass("hexagon").polygon(m)}},{"./common":1}],3:[function(d,e){"use strict";var f=Object.assign,g=Math.ceil,h=d("./common"),i=h.isTouch,j=h.zip,k={style:"-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;outline:none;"};e.exports=function(d){var e=d.sideLength,h=d.reverse,l=d.width,m=d.x,n=d.y;m=m||0,n=n||0;var o,p,q={fill:"#222",stroke:"#222",strokeWidth:"1px"},r={cursor:"pointer",fill:"#FFF",stroke:"#333"},s=4,t=a/6,u=e*b(t),v=e*c(t),x=e/2,y=e+u,z=l-v,w=g(l/2)+x,A=y/2+x/s;h?(o=[0,v+z,2*v+z,2*v+z,v+0,0],p=[0,0,u,u+e,u+e,0+e]):(o=[0,v+0,2*v+z,2*v+z,v+z,0],p=[u,0,0,0+e,u+e,u+e]);var B=j(o.map(function(a){return a+m}),p.map(function(a){return a+n})),C=r.fill,D=this.text(m,n,d.title).addClass("menu-item-title").attr({x:"+="+w,y:"+="+A,fill:C,fontSize:x,textAnchor:"middle"}),E=this.text(m,n,d.subtitle).addClass("menu-item-subtitle").attr({x:m+v,y:"+="+(A+x/2),fill:C,fontSize:x*0.7,textAnchor:"middle",opacity:0}),F=this.polygon(B).attr(q),G=f(this.group(F,D,E),{bar:F,width:l,height:y,title:D,subTitle:E,hoverAnimationDisabled:!1});G.addClass("hexagonalButton menu-item").attr(k),i()&&G.addClass("touch");var H=function(){if(G.hasClass("disabled")||G.hasClass("active")||G.focus(),!G.hoverAnimationDisabled&&0<E.attr("text").length){D.animate({fontSize:x*0.8,y:n+A-x/s},100),E.animate({opacity:1,x:m+w},100)}},I=function(){G.blur()};return G.enableHoverAnimation=function(){return G.hoverAnimationDisabled=!1,G.hover(H,I),G},G.disableHoverAnimation=function(){return G.hoverAnimationDisabled=!0,G.unhover(H,I),G},G.enable=function(){return G.removeClass("active").removeClass("disabled").attr({opacity:1}).enableHoverAnimation().blur()},G.disable=function(){return["bar","title","subTitle"].forEach(function(a){f(G[a].node.style,{cursor:"default"})}),G.addClass("disabled").attr({opacity:0.8}).disableHoverAnimation()},G.focus=function(){f(G.bar.node.style,f({},q,r));var a=r.stroke;return["bar","title","subTitle"].forEach(function(a){f(G[a].node.style,{cursor:"pointer"})}),G.title.node.style.fill=a,G.subTitle.node.style.fill=a,G},G.blur=function(){return f(G.bar.node.style,q),G.title.node.style.fill="#FFF",!G.hoverAnimationDisabled&&0<E.attr("text").length&&(G.title.animate({fontSize:x,y:n+A},100),G.subTitle.animate({opacity:0,x:m+v},100)),G},G.enableHoverAnimation(),G}},{"./common":1}],4:[function(d,e){"use strict";var f=Object.assign,g=Math.sqrt,h=d("./common"),i=h.debounce,j=1,k=4,l=a/6,m=function(a){return a.preventDefault()},n=function(a){return{transform:"translateX("+a+")"}};e.exports=function(a,d){function e(a){return 0<a?a*(y+g(2)*k)+(a-1)*C:-C}function h(){return A=a.map(function(b,c){var d=Array.isArray(a[c].submenu)&&0<a[c].submenu.length;return b.sideLength=y,b.width=z,b.x=0-F,b.y=C+c*(E+k+2*j),b.level=d?0:0,w.hexagonalButton(b)}),A}function o(){v("before:reset",{menu:w}),A.forEach(function(a){0<a.submenu.length&&(a.submenu.forEach(function(a){return a.remove()}),a.submenu=[]),a.isActive=!1;var b=w.visible?G:-G,c=w.visible?G:-G;Snap.animate(b,c,function(b){return a.attr(n(b))},50,mina.linear,function(){a.enable(),r(a),a.index===A.length-1&&v("reset",{menu:w})})})}function p(b){w.visible||A.forEach(function(c,d){setTimeout(function(){Snap.animate(0,G,function(a){c.attr(n(a))},b,mina.easein,function(){var b=w;d===a.length-1?(w.visible=!0,v("show",{menu:b})):0===d&&v("before:show",{menu:b})})},b/2*d)})}function q(b){var c=f(b,{isActive:!0,submenu:[]});c.addClass("active").disableHoverAnimation();var d=c.index,g=c.submenu,h=C+d*(E+k+2*j);a[d].submenu.forEach(function(a,b){var c=a.title,d=a.subtitle;g.push(w.hexagonalButton({title:c,subtitle:d,sideLength:y,width:z,x:G-D+0*j+0*D-2*k+G,y:h+e(b+1),level:0}).attr({opacity:0}))});var l=50;g.forEach(function(b,e){b.index=e;var g={menu:w,parent:c,target:b},h="click:"+d+":",i=function(){v("click:child",g),v(h+"child",g),v(h+e,g)};setTimeout(function(){f(b.node,{onclick:i,ontouchstart:i,oncontextmenu:m}),b.attr({opacity:1}),Snap.animate(0,-G,function(a){return b.attr(n(a))},l,mina.easein,function(){a[e].submenu&&e===a[e].submenu.length-1&&v("show:submenu",g)})},l*e)}),A.filter(function(a,b){return b!==d}).forEach(function(a){Snap.animate(G,F+k+j,function(b){return a.attr(n(b))},l,mina.linear,function(){s(a.disable())})})}function r(a){f(a.node,{onclick:H(a),ontouchstart:H(a),onmousedown:a.focus})}function s(a){f(a.node,{onclick:m,ontouchstart:m,onmousedown:m})}function t(b){A.slice(0).reverse().forEach(function(c,d){Snap.animate(G,0,function(a){return c.attr(n(a))},b+b/2*d,mina.backout,function(){var b=w;d===a.length-1?(w.visible=!1,v("hide",{menu:b})):0===d&&v("before:hide",{menu:b})})})}function u(a){o.bind(w)(),t.bind(w)(a)}function v(a,b){var c;window.CustomEvent?c=new CustomEvent(a,{detail:b}):(c=document.createEvent("CustomEvent"),c.initCustomEvent(a,!0,!0,b)),w.node.dispatchEvent(c)}var w=f(this,{visible:!1}),x=d.duration,y=d.sideLength,z=d.width,A=[],B=x||100,C=y*b(l),D=y*c(l),E=y+C,F=z+D+2*k+2*j,G=F+D+2*k,H=function(a){return function(b){b.preventDefault();var c=A[a.index],d=c.index,e=c.isActive,f=c.hasSubmenu;v("click:"+d,{menu:w,parent:null,target:c}),e?o.bind(w)():f&&(c.blur(),q(c))}};return function(){h().forEach(function(b,c){b.submenu=[],b.index=c,b.hasSubmenu=Array.isArray(a[c].submenu)&&0<a[c].submenu.length,b.node.onblur=m,b.node.oncontextmenu=m,r(b)})}(),{isVisible:function isVisible(){return w.visible},on:function on(a,b){return w.node.addEventListener(a,b)},off:function off(a,b){return w.node.removeEventListener(a,b)},buttons:A,toggle:i(function(){var a=w.visible?u:p;a.bind(w)(B)},B*2.5,!0),reset:o}}},{"./common":1}],5:[function(a,b){"use strict";var c=a("./hexagon"),d=a("./hexagonalButton"),e=a("./hexagonalMenu");b.exports=function(a,b,f){Object.assign(f.prototype,{hexagon:c,hexagonalButton:d,hexagonalMenu:e})}},{"./hexagon":2,"./hexagonalButton":3,"./hexagonalMenu":4}]},{},[5])(5)});
