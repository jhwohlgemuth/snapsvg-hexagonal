"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};(function(a){if("object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module)module.exports=a();else if("function"==typeof define&&define.amd)define([],a);else{var b;b="undefined"==typeof window?"undefined"==typeof global?"undefined"==typeof self?this:self:global:window,b.hexagonal=a()}})(function(){var a=Math.PI,b=Math.sin,c=Math.cos;return function b(c,d,e){function a(h,i){if(!d[h]){if(!c[h]){var j="function"==typeof require&&require;if(!i&&j)return j(h,!0);if(g)return g(h,!0);var k=new Error("Cannot find module '"+h+"'");throw k.code="MODULE_NOT_FOUND",k}var f=d[h]={exports:{}};c[h][0].call(f.exports,function(b){var d=c[h][1][b];return a(d?d:b)},f,f.exports,b,c,d,e)}return d[h].exports}for(var g="function"==typeof require&&require,f=0;f<e.length;f++)a(e[f]);return a}({1:[function(a,b){"use strict";function c(a){return Array(a).fill(0).map(function(a,b){return b})}var d=Date.now;b.exports={debounce:function(a,b,c){var e,f,g,h,i,j=function(){var k=d()-h;k<b&&0<=k?e=setTimeout(j,b-k):(e=null,!c&&(i=a.apply(g,f),!e&&(g=f=null)))};return function(){g=this,f=arguments,h=d();var k=c&&!e;return e||(e=setTimeout(j,b)),k&&(i=a.apply(g,f),g=f=null),i}},isTouch:function(){return!!("ontouchstart"in window)||0<window.navigator.msMaxTouchPoints},range:c,zip:function(d,a){return c(d.length).map(function(b,c){return[d[c],a[c]]})}}},{}],2:[function(d,e){"use strict";var f=d("./common"),g=f.zip;e.exports=function(d,e,f){e=e||0,f=f||0;var h=a/6,i=d*b(h),j=d*c(h),k=[0,j,2*j,2*j,j,0].map(function(a){return a+e}),l=[i,0,i,i+d,2*i+d,i+d].map(function(a){return a+f}),m=g(k,l);return this.addClass("hexagon").polygon(m)}},{"./common":1}],3:[function(d,e){"use strict";var f=Object.assign,g=Math.ceil,h=d("./common"),i=h.isTouch,j=h.zip,k={style:"-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;outline:none;"};e.exports=function(d){var e=d.sideLength,h=d.reverse,l=d.width,m=d.x,n=d.y;m=m||0,n=n||0;var o,p,q={fill:"#222",stroke:"#222",strokeWidth:"1px"},r={cursor:"pointer",fill:"#FFF",stroke:"#333"},s=4,t=a/6,u=e*b(t),v=e*c(t),x=e/2,y=e+u,z=l-v,w=g(l/2)+x,A=y/2+x/s;h?(o=[0,v+z,2*v+z,2*v+z,v+0,0],p=[0,0,u,u+e,u+e,0+e]):(o=[0,v+0,2*v+z,2*v+z,v+z,0],p=[u,0,0,0+e,u+e,u+e]);var B=j(o.map(function(a){return a+m}),p.map(function(a){return a+n})),C=r.fill,D=this.text(m,n,d.title).addClass("menu-item-title").attr({x:"+="+w,y:"+="+A,fill:C,fontSize:x,textAnchor:"middle"}),E=this.text(m,n,d.subtitle).addClass("menu-item-subtitle").attr({x:m+v,y:"+="+(A+x/2),fill:C,fontSize:x*0.7,textAnchor:"middle",opacity:0}),F=this.polygon(B).attr(q),G=f(this.group(F,D,E),{bar:F,width:l,height:y,title:D,subTitle:E,hoverAnimationDisabled:!1});G.addClass("hexagonalButton menu-item").attr(k),i()&&G.addClass("touch");var H=function(){if(G.hasClass("disabled")||G.hasClass("active")||G.focus(),!G.hoverAnimationDisabled&&0<E.attr("text").length){D.animate({fontSize:x*0.8,y:n+A-x/s},100),E.animate({opacity:1,x:m+w},100)}},I=function(){G.blur()};return G.enableHoverAnimation=function(){return G.hoverAnimationDisabled=!1,G.hover(H,I),G},G.disableHoverAnimation=function(){return G.hoverAnimationDisabled=!0,G.unhover(H,I),G},G.enable=function(){G.removeClass("active").removeClass("disabled").attr({opacity:1}).enableHoverAnimation().blur()},G.disable=function(){["bar","title","subTitle"].forEach(function(a){f(G[a].node.style,{cursor:"default"})}),G.addClass("disabled").attr({opacity:0.8}).disableHoverAnimation()},G.focus=function(){f(G.bar.node.style,f({},q,r));var a=r.stroke;return["bar","title","subTitle"].forEach(function(a){f(G[a].node.style,{cursor:"pointer"})}),G.title.node.style.fill=a,G.subTitle.node.style.fill=a,G},G.blur=function(){return f(G.bar.node.style,q),G.title.node.style.fill="#FFF",!G.hoverAnimationDisabled&&0<E.attr("text").length&&(G.title.animate({fontSize:x,y:n+A},100),G.subTitle.animate({opacity:0,x:m+v},100)),G},G.enableHoverAnimation(),G}},{"./common":1}],4:[function(d,e){"use strict";var f=Object.assign,g=d("./common"),h=g.debounce,i=function(a){return a.preventDefault()},j=function(a){return{transform:"translateX("+a+")"}};e.exports=function(d,e){function g(a){return 0<a?a*(x+B*z)+(a-1)*C:-C}function k(){return u=d.map(function(a,b){var c=Array.isArray(d[b].submenu)&&0<d[b].submenu.length;return a.sideLength=x,a.width=y,a.x=0-F,a.y=C+b*(E+z+2*w),a.level=c?0:0,t.hexagonalButton(a)}),u}function l(){s("before:reset",{menu:t}),u.forEach(function(a){0<a.submenu.length&&(a.submenu.forEach(function(a){a.remove()}),a.submenu=[]),a.isActive=!1;var b=t.visible?G:-G,c=t.visible?G:-G;Snap.animate(b,c,function(b){a.attr(j(b))},50,mina.linear,function(){a.enable(),o(a),a.index===u.length-1&&s("reset",{menu:t})})})}function m(a){t.visible||u.forEach(function(b,c){setTimeout(function(){Snap.animate(0,G,function(a){b.attr(j(a))},a,mina.easein,function(){c===d.length-1?(t.visible=!0,s("show",{menu:t})):0===c&&s("before:show",{menu:t})})},a/2*c)})}function n(a){var b=f(a,{isActive:!0,submenu:[]});b.addClass("active").disableHoverAnimation();var c=b.index,e=C+c*(E+z+2*w);d[b.index].submenu.forEach(function(a,c){b.submenu.push(t.hexagonalButton({title:a.title,subtitle:a.subtitle,sideLength:x,width:y,x:G-D+0*w+0*D-2*z+G,y:e+g(c+1),level:0}).attr("opacity",0))});var h=50;b.submenu.forEach(function(a,c){a.index=c;var e={menu:t,parent:b,target:a},g="click:"+b.index+":",k=function(){s("click:child",e),s(g+"child",e),s(g+c,e)};setTimeout(function(){f(a.node,{oncontextmenu:i,onclick:k,ontouchstart:k}),a.attr("opacity",1),Snap.animate(0,-G,function(b){return a.attr(j(b))},h,mina.easein,function(){d[c].submenu&&c===d[c].submenu.length-1&&s("show:submenu",e)})},h*c)}),u.filter(function(a,c){return c!==b.index}).forEach(function(a){Snap.animate(G,F+z+w,function(b){return a.attr(j(b))},h,mina.linear,function(){a.disable(),p(a)})})}function o(a){a.node.onclick=H.bind(a),a.node.ontouchstart=H.bind(a),a.node.onmousedown=a.focus}function p(a){a.node.onclick=i,a.node.ontouchstart=i,a.node.onmousedown=i}function q(a){var b;u.slice(0).reverse().forEach(function(c,e){b=a+a/2*e,Snap.animate(G,0,function(a){c.attr(j(a))},b,mina.backout,function(){var a=t;e===d.length-1?(t.visible=!1,s("hide",{menu:a})):0===e&&s("before:hide",{menu:a})})})}function r(a){l.bind(t)(),q.bind(t)(a)}function s(a,b){var c;window.CustomEvent?c=new CustomEvent(a,{detail:b}):(c=document.createEvent("CustomEvent"),c.initCustomEvent(a,!0,!0,b)),t.node.dispatchEvent(c)}var t=this;t.visible=!1;var u=[],v=e.duration?e.duration:100,w=1,x=e.sideLength,y=e.width,z=4,A=a/6,B=1.4142135623730951,C=x*b(A),D=x*c(A),E=x+C,F=y+D+2*z+2*w,G=F+D+2*z,H=function(a){a.preventDefault();var b=u[this.index];s("click:"+b.index,{menu:t,parent:null,target:b}),b.isActive?l.bind(t)():b.hasSubmenu&&(b.blur(),n(b))};(function(){k().forEach(function(a,b){a.submenu=[],a.index=b,a.hasSubmenu=Array.isArray(d[b].submenu)&&0<d[b].submenu.length,a.node.onblur=i,a.node.oncontextmenu=i,o(a)})})();return{isVisible:function isVisible(){return t.visible},on:function on(a,b){return t.node.addEventListener(a,b)},off:function off(a,b){return t.node.removeEventListener(a,b)},buttons:u,toggle:h(function(){t.visible?r.bind(t)(v):m.bind(t)(v)},v*2.5,!0),reset:l}}},{"./common":1}],5:[function(a,b){"use strict";var c=a("./hexagon"),d=a("./hexagonalButton"),e=a("./hexagonalMenu");b.exports=function(a,b,f){Object.assign(f.prototype,{hexagon:c,hexagonalButton:d,hexagonalMenu:e})}},{"./hexagon":2,"./hexagonalButton":3,"./hexagonalMenu":4}]},{},[5])(5)});
